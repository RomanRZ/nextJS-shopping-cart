{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport * as t from '../types/types';\n\nconst basketReducer = (state = [], action) => {\n  switch (action.type) {\n    case t.ADD_PRODUCT:\n      const found = state.find(product => product.id === action.payload.id);\n\n      if (found) {\n        return state;\n      }\n\n      return [...state, action.payload];\n\n    case t.INCREMENT_PRODUCT:\n      const newState = state.map(product => {\n        if (product.id === action.payload) {\n          return _objectSpread({}, product, {\n            quantity: product.quantity + 1\n          });\n        }\n\n        return product;\n      });\n      return newState;\n\n    case t.SUBTRACT_PRODUCT:\n      const refreshedState = state.map(product => {\n        if (product.id === action.payload) {\n          return product.quantity ? _objectSpread({}, product, {\n            quantity: product.quantity - 1\n          }) : product;\n        }\n\n        return product;\n      });\n      return refreshedState;\n\n    case t.DELETE_PRODUCT:\n      return state.filter(product => product.id !== action.payload);\n\n    default:\n      return state;\n  }\n};\n\nexport default basketReducer;","map":{"version":3,"sources":["F:\\Programming\\TEST-TASKS\\theadmasters\\admasters\\app\\reducers\\basketReducer.js"],"names":["t","basketReducer","state","action","type","ADD_PRODUCT","found","find","product","id","payload","INCREMENT_PRODUCT","newState","map","quantity","SUBTRACT_PRODUCT","refreshedState","DELETE_PRODUCT","filter"],"mappings":";AAAA,OAAO,KAAKA,CAAZ,MAAmB,gBAAnB;;AAEA,MAAMC,aAAa,GAAG,CAACC,KAAK,GAAG,EAAT,EAAaC,MAAb,KAAwB;AAC5C,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKJ,CAAC,CAACK,WAAP;AACE,YAAMC,KAAK,GAAGJ,KAAK,CAACK,IAAN,CAAWC,OAAO,IAAIA,OAAO,CAACC,EAAR,KAAeN,MAAM,CAACO,OAAP,CAAeD,EAApD,CAAd;;AACA,UAAIH,KAAJ,EAAW;AACT,eAAOJ,KAAP;AACD;;AACD,aAAO,CAAC,GAAGA,KAAJ,EAAWC,MAAM,CAACO,OAAlB,CAAP;;AACF,SAAKV,CAAC,CAACW,iBAAP;AACE,YAAMC,QAAQ,GAAGV,KAAK,CAACW,GAAN,CAAUL,OAAO,IAAI;AACpC,YAAIA,OAAO,CAACC,EAAR,KAAeN,MAAM,CAACO,OAA1B,EAAmC;AACjC,mCAAYF,OAAZ;AAAqBM,YAAAA,QAAQ,EAAEN,OAAO,CAACM,QAAR,GAAmB;AAAlD;AACD;;AACD,eAAON,OAAP;AACD,OALgB,CAAjB;AAMA,aAAOI,QAAP;;AACF,SAAKZ,CAAC,CAACe,gBAAP;AACE,YAAMC,cAAc,GAAGd,KAAK,CAACW,GAAN,CAAUL,OAAO,IAAI;AAC1C,YAAIA,OAAO,CAACC,EAAR,KAAeN,MAAM,CAACO,OAA1B,EAAmC;AACjC,iBAAOF,OAAO,CAACM,QAAR,qBAAwBN,OAAxB;AAAiCM,YAAAA,QAAQ,EAAEN,OAAO,CAACM,QAAR,GAAmB;AAA9D,eAAoEN,OAA3E;AACD;;AACD,eAAOA,OAAP;AACD,OALsB,CAAvB;AAMA,aAAOQ,cAAP;;AACF,SAAKhB,CAAC,CAACiB,cAAP;AACE,aAAOf,KAAK,CAACgB,MAAN,CAAaV,OAAO,IAAIA,OAAO,CAACC,EAAR,KAAeN,MAAM,CAACO,OAA9C,CAAP;;AACF;AACE,aAAOR,KAAP;AA1BJ;AA4BD,CA7BD;;AA+BA,eAAeD,aAAf","sourcesContent":["import * as t from '../types/types';\r\n\r\nconst basketReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case t.ADD_PRODUCT:\r\n      const found = state.find(product => product.id === action.payload.id);\r\n      if (found) {\r\n        return state;\r\n      }\r\n      return [...state, action.payload];\r\n    case t.INCREMENT_PRODUCT:\r\n      const newState = state.map(product => {\r\n        if (product.id === action.payload) {\r\n          return { ...product, quantity: product.quantity + 1 };\r\n        }\r\n        return product;\r\n      });\r\n      return newState;\r\n    case t.SUBTRACT_PRODUCT:\r\n      const refreshedState = state.map(product => {\r\n        if (product.id === action.payload) {\r\n          return product.quantity ? { ...product, quantity: product.quantity - 1 } : product;\r\n        }\r\n        return product;\r\n      });\r\n      return refreshedState;\r\n    case t.DELETE_PRODUCT:\r\n      return state.filter(product => product.id !== action.payload);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default basketReducer;\r\n"]},"metadata":{},"sourceType":"module"}